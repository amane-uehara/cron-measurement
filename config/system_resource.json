{
  "constant": {
    "warning" : "This `constant` block will be over written. Do not edit this file.",

    "hostname"                    : "example_host",
    "system_resource_raw_path"    : "/path/to/raw/data/dir",
    "system_resource_hourly_path" : "/path/to/hourly/data/dir",
    "system_resource_daily_path"  : "/path/to/daily/data/dir",
    "system_resource_drop_files"  : "${inkbird_raw_path}/${yyyymmddhh-4}*.json"
  },

  "job_system_resource_raw_json": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "fetch_raw_json",
    "output_file"     : "${system_resource_raw_path}/${yyyymmddhhmmss}.json"
  },
  "job_system_resource_drop": {
    "item"            : "system_resource",
    "sensor"          : "shell",
    "program"         : "fetch_raw_json",
    "command_list"    : [
      "ls ${system_resource_drop_files} | wc -l",
      "rm -rf ${system_resource_drop_files}",
      "ls ${system_resource_drop_files} | wc -l"
    ]
  },

  "job_system_resource_hourly_cron": {
    "item"            : "system_resource",
    "sensor"          : "shell",
    "program"         : "fetch_raw_json",
    "command_list"    : [
      "${fork_main_py} 'job_system_resource_hourly_json' --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_hourly_csv'  --yyyymmddhhmmss ${yyyymmddhhmmss}"
    ]
  },
  "job_system_resource_hourly_json": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_json_list",
    "input_file_list" : ["${system_resource_raw_path}/${yyyymmddhh}*.json"],
    "output_file"     : "${system_resource_hourly_path}/json/${yyyymmddhh}.json.gz"
  },
  "job_system_resource_hourly_csv": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_csv",
    "run_key_list"    : ["dt", "yyyymmdd", "hostname", "mac_addr"],
    "input_file_list" : ["${system_resource_hourly_path}/json/${yyyymmddhh}.json.gz"],
    "output_file"     : "${system_resource_hourly_path}/csv/${yyyymmddhh}.csv.gz"
  },

  "job_system_resource_daily_cron": {
    "item"            : "system_resource",
    "sensor"          : "shell",
    "program"         : "fetch_raw_json",
    "command_list"    : [
      "${fork_main_py} 'job_system_resource_daily_json' --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_calc' --yyyymmddhhmmss ${yyyymmddhhmmss}"
    ]
  },
  "job_system_resource_daily_calc": {
    "item"            : "system_resource",
    "sensor"          : "shell",
    "program"         : "fetch_raw_json",
    "command_list"    : [
      "${fork_main_py} 'job_system_resource_daily_csv'             --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_percentile_json' --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_percentile_csv'  --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_sample_csv_60'   --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_sample_csv_600'  --yyyymmddhhmmss ${yyyymmddhhmmss}",
      "${fork_main_py} 'job_system_resource_daily_sample_csv_3600' --yyyymmddhhmmss ${yyyymmddhhmmss}"
    ]
  },
  "job_system_resource_daily_json": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_json_list",
    "input_file_list" : ["${system_resource_hourly_path}/json/${yyyymmdd}*.json.gz"],
    "output_file"     : "${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"
  },
  "job_system_resource_daily_csv": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_csv",
    "run_key_list"    : ["dt", "yyyymmdd", "hostname", "mac_addr"],
    "input_file_list" : ["${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"],
    "output_file"     : "${system_resource_daily_path}/all_csv/${yyyymmdd}.csv.gz"
  },
  "job_system_resource_daily_percentile_json": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_percentile_json_list",
    "division_number" : 100,
    "run_key_list"    : ["yyyymmdd", "hostname", "mac_addr"],
    "input_file_list" : ["${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"],
    "output_file"     : "${system_resource_daily_path}/percentile_json/${yyyymmdd}.csv.gz"
  },
  "job_system_resource_daily_percentile_csv": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_csv",
    "division_number" : 100,
    "run_key_list"    : ["percentile", "yyyymmdd", "hostname", "mac_addr"],
    "input_file_list" : ["${system_resource_daily_path}/percentile_json/${yyyymmdd}.csv.gz"],
    "output_file"     : "${system_resource_daily_path}/percentile_csv/${yyyymmdd}.csv.gz"
  },
  "job_system_resource_daily_sample_csv_60": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_sample_csv",
    "run_key_list"    : ["dt", "yyyymmdd", "hostname", "mac_addr"],
    "sample_time_key" : "dt",
    "sample_begin"    : "${yyyymmdd}000000",
    "sample_end"      : "${yyyymmdd+1}000000",
    "sample_interval" : 60,
    "input_file_list" : ["${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"],
    "output_file"     : "${system_resource_daily_path}/sample_csv_${sample_interval}/${yyyymmdd}.csv.gz"
  },
  "job_system_resource_daily_sample_csv_600": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_sample_csv",
    "run_key_list"    : ["dt", "yyyymmdd", "hostname", "mac_addr"],
    "sample_time_key" : "dt",
    "sample_begin"    : "${yyyymmdd}000000",
    "sample_end"      : "${yyyymmdd+1}000000",
    "sample_interval" : 600,
    "input_file_list" : ["${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"],
    "output_file"     : "${system_resource_daily_path}/sample_csv_${sample_interval}/${yyyymmdd}.csv.gz"
  },
  "job_system_resource_daily_sample_csv_3600": {
    "item"            : "system_resource",
    "sensor"          : "system_resource",
    "program"         : "to_sample_csv",
    "run_key_list"    : ["dt", "yyyymmdd", "hostname", "mac_addr"],
    "sample_time_key" : "dt",
    "sample_begin"    : "${yyyymmdd}000000",
    "sample_end"      : "${yyyymmdd+1}000000",
    "sample_interval" : 3600,
    "input_file_list" : ["${system_resource_daily_path}/all_json/${yyyymmdd}.json.gz"],
    "output_file"     : "${system_resource_daily_path}/sample_csv_${sample_interval}/${yyyymmdd}.csv.gz"
  }
}
